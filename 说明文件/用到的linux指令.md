
- [查看进程信息](#查看进程信息)
  - [top](#top)
- [查看网络信息](#查看网络信息)
  - [查看IP地址](#查看ip地址)
  - [netstat](#netstat)
  - [lsof](#lsof)
  - [kill](#kill)
- [发起网络操作](#发起网络操作)
- [netcat](#netcat)
  - [常用功能](#常用功能)
- [telnet](#telnet)
------------------------
# 查看进程信息
## top
能够实时显示系统中各个进程的资源占用状况
[参考资料](https://www.cnblogs.com/mengchunchen/p/9669704.html)
第一行（top）：
　　15:24:36 系统当前时刻
　　14 days 系统启动后到现在的运作时间
　　3 users 当前登录到系统的用户，更确切的说是登录到用户的终端数 -- 同一个用户同一时间对系统多个终端的连接将被视为多个用户连接到系统，这里的用户数也将表现为终端的数目
　　load average 当前系统负载的平均值，后面的三个值分别为1分钟前、5分钟前、15分钟前进程的平均数，一般的可以认为这个数值超过 CPU 数目时，CPU 将比较吃力的负载当前系统所包含的进程
 
第二行（Tasks）：
　　288 total 当前系统进程总数
　　1 running 当前运行中的进程数
　　287 sleeping 当前处于等待状态中的进程数
　　0 stoped 被停止的系统进程数
　　0 zombie 僵尸进程数
 
第三行（Cpus）：
　　7.3% us 用户空间占用CPU百分比
　　2.0% sy 内核空间占用CPU百分比
　　0.0% ni 用户进程空间内改变过优先级的进程占用CPU百分比
　　90.4% id 空闲CPU百分比
　　0.3% wa 等待输入输出的CPU时间百分比
　　0.0% hi
　　0.0% si
　　0.0% st
 
第四行（Mem）：
　　2042616 total 物理内存总量
　　1770116 used 使用的物理内存总量
　　272500 free 空闲内存总量
　　163912 buffers 用作内核缓存的内存量

　　　　
第五行（Swap）：
表示类别同第四行（Mem），但此处反映着交换分区（Swap）的使用情况。通常，交换分区（Swap）被频繁使用的情况，将被视作物理内存不足而造成的。
　　2094076 total 交换区总量
　　45052 used 使用的交换区总量
　　2049024 free 空闲交换区总量
　　346624 cached 缓冲的交换区总量

　　PID：进程的ID
　　USER：进程所有者
　　PR：进程的优先级别，越小越优先被执行
　　NInice：值
　　VIRT：进程占用的虚拟内存
　　RES：进程占用的物理内存
　　SHR：进程使用的共享内存
　　S：进程的状态。S表示休眠，R表示正在运行，Z表示僵死状态，N表示该进程优先值为负数
　　%CPU：进程占用CPU的使用率
　　%MEM：进程使用的物理内存和总内存的百分比
　　TIME+：该进程启动后占用的总的CPU时间，即占用CPU使用时间的累加值。
　　COMMAND：进程启动命令名称
 
 -----------------------
# 查看网络信息

tcpdump
lsof
netstat
netcat
## 查看IP地址

- `ifconfig`
- 显示或配置网络设备（网络接口卡）

## netstat

- 使用前需要安装`apt install net-tools`
- 常用参数
  - -t (tcp) 仅显示tcp相关选项
  - -u (udp) 仅显示udp相关选项
  - -n 拒绝显示别名，能显示数字的全部转化为数字
  - -l 仅列出在Listen(监听)的服务状态
  - -p 显示建立相关链接的程序名
- 查看端口使用状况`netstat -tunlp | grep 端口号`






## lsof

- `lsof -iTCP`,仅显示TCP连接（同理可获得UDP连接）
- `lsof -i:port`,显示与指定端口相关的网络信息
- `lsof -i@host`,显示指定到指定主机的连接
- `lsof  -i -sTCP:LISTEN`,找出监听端口
- `lsof  -i -sTCP:ESTABLISHED`,找出已建立的连接

## kill

- 在查到端口占用的进程后，可以使用kill杀掉对应的进程
- `kill -9 PID`


# 发起网络操作

https://huangwang.github.io/2019/09/22/netcat%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E7%AE%80%E4%BB%8B/
# netcat

- 功能丰富的网络调试和调查工具，因为它可以产生用户可能需要的几乎任何类型的连接
- 可选参数
  - 最常用的有 v n w 

```
选项	是否有“选项值”	说明
h	NO	输出 nc 的帮助
v	NO	在网络通讯时，显示详细的输出信息。注：建议新手多用该选项，出错时帮你诊断问题,产生的输出位于stderr
n	NO	对命令行中的“主机”，【不】进行域名解析。注：如果“主机”是“点分格式”的 IP 地址，需要用该选项；如果“主机”是“域名”形式，【不能】用该选项
p	YES	指定“端口号”
l	NO	开启“监听模式”，nc 作为【服务端】。注：如不加该选项，nc 默认作为客户端
u	NO	使用 UDP 协议。注：如不加该选项，默认是 TCP 协议
w	YES	设置连接的超时间隔（N 秒）
q	YES	让 nc 延时（N 秒）再退出
z	NO	开启“zero-I/O 模式”。注：该选项仅用于“端口扫描”，后面会聊到
k	NO	配合 -l 选项使用，可以重复接受客户端连接。注：“原版 nc”的该选项用来开启“TCP keepalive”。这是“原版 nc”与“OpenBSD 变种”之间的差异之一
X	YES	指定代理的类型（具体用法，后面会聊到）。注：“原版 nc”【没有】该选项。这是“原版 nc”与“OpenBSD 变种”之间的差异之一
x	YES	以 IP:port 的格式指定代理的位置。注：“原版 nc”【没有】该选项。这是“原版 nc”与“OpenBSD 变种”之间的差异之一
e	YES	启动某个进程，把该进程的“标准输入输出”与网络通讯【对接】。注：通常用该选项开启一个网络后门。“OpenBSD 变种”基于安全考虑，已去掉该选项，但还是能用间接的方式达到同样的效果。
```

## 常用功能

```bash
# 测试某个远程主机的【监听】端口是否可达
nc -nv [ip] [port]
nc -nv -w [t] [ip] [port]
```
- 用 nc 传输文件
  - 假设你有两台主机 A 与 B，你要把 A 主机上的文件 file1 传输到 B 主机上，保存为 file2
  - 

# telnet

- `telnet [ip] [port]`，连接指定的服务器
- `telnet localhost [port]`，连接本地的指定端口号